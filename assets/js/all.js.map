{"version":3,"sources":["all.js"],"names":["tickets","btnAddTicket","document","querySelector","addEventListener","addTicket","inputValues","querySelectorAll","isTicketData","ticketData","forEach","item","value","id","length","getAttribute","name","imgUrl","area","price","group","rate","description","form","push","reset","render","alert","ticketsArr","ticketList","searchResult","emptyResult","str","classList","remove","add","aosDelay","ticket","innerHTML","textContent","searchArea","e","target","filterArea","filter","init","url","axios","get","then","res","data","err","console","log"],"mappings":"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","file":"all.js","sourcesContent":["\"use strict\";\n\n// 改用 axios 載入外部資料\n// const tickets = [\n//   {\n//     id: 1,\n//     name: \"綠島自由行套裝行程\",\n//     imgUrl:\n//       \"https://github.com/hexschool/2022-web-layout-training/blob/main/js_week5/travel_1.png?raw=true\",\n//     area: \"台北\",\n//     price: 1280,\n//     num: 8,\n//     rank: 8.6,\n//     describe:\n//       \"嚴選超高CP值綠島自由行套裝行程，多種綠島套裝組合，提供台東綠島來回船票、綠島環島機車、綠島民宿住宿，行程加贈『綠島浮潛體驗』以及『綠島生態導覽』，讓你用輕鬆的綠島套裝自由行，也能深度認識綠島在地文化。\",\n//   },\n//   {\n//     id: 2,\n//     name: \"南庄度假村露營車二日遊\",\n//     imgUrl:\n//       \"https://github.com/hexschool/2022-web-layout-training/blob/main/js_week5/travel_6.png?raw=true\",\n//     area: \"台中\",\n//     price: 2480,\n//     num: 2,\n//     rank: 9.2,\n//     describe:\n//       \"南庄雲水豪華露營車，快來擁有最愜意的露營體驗吧！ 一泊一食，輕鬆享受露營車樂趣。 獨立衛浴與私人戶外露臺。 入住豪華露營車還能使用戶外SPA大眾湯，感受美人湯魅力。\",\n//   },\n//   {\n//     id: 3,\n//     name: \"漁樂碼頭釣魚體驗套票\",\n//     imgUrl:\n//       \"https://github.com/hexschool/2022-web-layout-training/blob/main/js_week5/travel_2.png?raw=true\",\n//     area: \"台中\",\n//     price: 1280,\n//     num: 5,\n//     rank: 9.2,\n//     describe:\n//       \"台中全新親子景點寶熊漁樂碼頭，為知名釣具公司「OKUMA」所創立的觀光工廠。一樓藍白希臘漁村風商店街免費參觀。二樓釣魚故事館則設立全台唯一虛擬釣場，透過導覽讓你知道如何釣魚、魚餌怎麼區分，寓教於樂的台中景點！\",\n//   },\n// ];\nlet tickets;\nconst btnAddTicket = document.querySelector(\"#btnAddTicket\");\n\n// 新增套票 (改練習 querySelectorAll() 獲取所有 input)\nbtnAddTicket.addEventListener(\"click\", addTicket);\nfunction addTicket() {\n  const inputValues = document.querySelectorAll(\".input\");\n  let isTicketData;\n  const ticketData = {};\n  inputValues.forEach((item) => {\n    isTicketData = item.value !== \"\" ? true : false;\n    ticketData.id = tickets.length + 1;\n    if (item.getAttribute(\"id\") === \"ticketName\") {\n      ticketData.name = item.value;\n    } else if (item.getAttribute(\"id\") === \"ticketImgUrl\") {\n      ticketData.imgUrl = item.value;\n    } else if (item.getAttribute(\"id\") === \"scenicArea\") {\n      ticketData.area = item.value;\n    } else if (item.getAttribute(\"id\") === \"ticketPrice\") {\n      ticketData.price = item.value;\n    } else if (item.getAttribute(\"id\") === \"ticketNum\") {\n      ticketData.group = item.value;\n    } else if (item.getAttribute(\"id\") === \"ticketRank\") {\n      ticketData.rate = item.value;\n    } else if (item.getAttribute(\"id\") === \"ticketDescribe\") {\n      ticketData.description = item.value;\n    }\n  });\n  if (isTicketData) {\n    const form = document.querySelector(\"form\");\n    tickets.push(ticketData);\n    form.reset(); // 新增完，清空表單\n    render(tickets);\n  } else {\n    alert(\"請輸入套票資訊\");\n  }\n}\n\n// btnAddTicket.addEventListener(\"click\", () => {\n//   const ticketName = document.querySelector(\"#ticketName\");\n//   const ticketImgUrl = document.querySelector(\"#ticketImgUrl\");\n//   const scenicArea = document.querySelector(\"#scenicArea\");\n//   const ticketPrice = document.querySelector(\"#ticketPrice\");\n//   const ticketNum = document.querySelector(\"#ticketNum\");\n//   const ticketRank = document.querySelector(\"#ticketRank\");\n//   const ticketDescribe = document.querySelector(\"#ticketDescribe\");\n\n//   const ticketData = {\n//     id: tickets.length + 1,\n//     name: ticketName.value,\n//     imgUrl: ticketImgUrl.value,\n//     area: scenicArea.value,\n//     price: Number(ticketPrice.value),\n//     group: Number(ticketNum.value),\n//     rate: Number(ticketRank.value),\n//     description: ticketDescribe.value,\n//   };\n\n//   const isTicketData =\n//     ticketName.value !== \"\" &&\n//     ticketImgUrl.value !== \"\" &&\n//     scenicArea.value !== \"\" &&\n//     ticketPrice.value !== \"\" &&\n//     ticketNum.value !== \"\" &&\n//     ticketRank.value !== \"\" &&\n//     ticketDescribe.value !== \"\";\n\n//   // 有輸入套票訊息才能新增\n//   if (isTicketData) {\n//     const form = document.querySelector(\"form\");\n//     tickets.push(ticketData);\n//     form.reset(); // 新增完，清空表單\n//     render(tickets);\n//   } else {\n//     alert(\"請輸入套票資訊\");\n//   }\n// });\n\n// 渲染畫面(傳入的參數為 原始套票陣列 或 篩選地區後的套票陣列)\nfunction render(ticketsArr) {\n  const ticketList = document.querySelector(\"#ticketList\");\n  const searchResult = document.querySelector(\"#searchResult\");\n  const emptyResult = document.querySelector(\"#emptyResult\");\n  let str = \"\";\n\n  if (ticketsArr.length === 0) {\n    // 沒資料則顯示查無資料\n    emptyResult.classList.remove(\"d-none\");\n  } else {\n    emptyResult.classList.add(\"d-none\");\n  }\n\n  let aosDelay = 0;\n  ticketsArr.forEach((ticket) => {\n    str += `\n    <li class=\"col-md-6 col-lg-4 mb-6\" data-aos=\"fade-up\" data-aos-delay=\"${(aosDelay += 100)}\" data-aos-duration=\"700\">\n      <div class=\"card position-relative border-0\">\n        <a href=\"#!\" class=\"overflow-hidden\">\n          <img src=\"${\n            ticket.imgUrl\n          }\" class=\"card-img-top ticket-img\" alt=\"風景圖\">\n        </a>\n        <span class=\"position-absolute top-n3 start-0 bg-primary-light fs-5\n          fw-light lh-sm text-white px-6 py-2 rounded-end\">${ticket.area}</span>\n        <div class=\"card-body position-relative pt-6 pb-0\">\n          <span class=\"position-absolute top-n7 start-0 bg-primary-dark text-white px-2 py-1 rounded-end\">${\n            ticket.rate\n          }</span>\n          <h5 class=\"card-title text-primary fs-4 fw-light border-bottom border-2 border-primary pb-1 mb-5\"><a href=\"#!\">${\n            ticket.name\n          }</a></h5>\n          <p class=\"card-text lh-lg\">${ticket.description}</p>\n        </div>\n        <div class=\"card-footer border-0 bg-white pt-7\">\n          <div class=\"text-primary d-flex align-items-center\">\n            <span class=\"material-symbols-outlined fill-1 me-1\">\n              error\n            </span>\n            <p class=\"me-auto\">剩下最後 ${ticket.group} 組</p>\n            <span class=\"me-1\">TWD</span>\n            <p class=\"fs-2 font-roboto\">$${ticket.price}</p>\n          </div>\n        </div>\n      </div>\n    </li>\n    `;\n  });\n  ticketList.innerHTML = str;\n  searchResult.textContent = `本次搜尋共 ${ticketsArr.length} 筆資料`;\n}\n\n// 地區篩選\nconst searchArea = document.querySelector(\"#searchArea\");\n\nsearchArea.addEventListener(\"change\", (e) => {\n  const area = e.target.value;\n  // 當選擇全部地區，則顯示套票陣列\n  if (area === \"全部地區\") {\n    render(tickets);\n    return;\n  }\n  // 篩選特定區域並顯示畫面\n  const filterArea = tickets.filter((ticket) => {\n    return ticket.area === area;\n  });\n  render(filterArea);\n});\n\n// 網站初始化 使用 axios 抓取外部資料\nfunction init() {\n  const url =\n    \"https://raw.githubusercontent.com/hexschool/js-training/main/travelApi.json\";\n  axios\n    .get(url)\n    .then(function (res) {\n      tickets = res.data.data;\n      render(tickets);\n    })\n    .catch(function (err) {\n      console.log(err);\n    });\n}\ninit();\n"]}